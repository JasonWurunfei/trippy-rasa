version: '2.0'
config:
  store_entities_as_slots: true
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- greet:
    use_entities: true
- goodbye:
    use_entities: true
- affirm:
    use_entities: true
- deny:
    use_entities: true
- inform:
    use_entities: true
- bot_challenge:
    use_entities: true
- ask_for_human_assistant:
    use_entities: true
- ask_for_company_info:
    use_entities: true
- ask_for_popular_packages:
    use_entities: true
- ask_for_package_by_country:
    use_entities: true
- ask_user_orders:
    use_entities: true
- login:
    use_entities: true
- register:
    use_entities: true
- flight_delays_or_cancellation:
    use_entities: true
- get_next_available:
    use_entities: true
- cancel_trip:
    use_entities: true
- guide_unavailable_or_delayed:
    use_entities: true
- travel_alone:
    use_entities: true
- customer_book_hotel:
    use_entities: true
- hotel_unavailable:
    use_entities: true
- book_package:
    use_entities: true
- give_feedback:
    use_entities: true
- thank:
    use_entities: []
- help:
    use_entities: []
- nlu_fallback:
    use_entities: true
entities:
- country
- destination
- package_title
- username
- password
- feedback
slots:
  is_authenticated:
    type: rasa.shared.core.slots.BooleanSlot
    initial_value: false
    auto_fill: true
    influence_conversation: true
  username:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  password:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  destination:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  orders:
    type: rasa.shared.core.slots.ListSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
  requested_slot:
    type: rasa.shared.core.slots.UnfeaturizedSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
responses:
  utter_greet:
  - text: Hi~
  - text: Hi! How can I help?
  utter_goodbye:
  - text: Bye
  - text: bye bye ~
  utter_iamabot:
  - text: I am a bot, powered by Rasa.
  utter_request_human_assistant:
  - text: Sorry, ther is no human assistant available right now, maybe try it later or you can sent an email to customer.service@trippy.social directly if you have anything really urgent
  utter_login_or_register:
  - buttons:
    - payload: /login
      title: Login
    - payload: /register
      title: Register
    text: I need to know your user account to proceed, do you want to login with existing account or register a new one?
  utter_ask_username:
  - text: Can you tell me your username please?
  utter_ask_password:
  - text: Can you tell me your password please? Your password will be encrypted via https so no need to worry.
  utter_offer_next_available_or_cancel:
  - buttons:
    - payload: /get_next_available
      title: next available flight
    - payload: /cancel_trip
      title: cancel the trip
    text: I can help you find the next available flight, or if you wish, I can cancel the whole trip on your behalf and provide refound. However, if you cancel the trip, we still need to charge 10% of the total price as service fee.
  utter_ask_if_the_new_flight_is_suitable:
  - text: Is this new flight suitable for you?
  utter_confirm_if_cancel:
  - text: Are you sure you want to cancel the whole trip?
  utter_offer_change_guide:
  - text: Do you want me to help you to find another guide instead?
  utter_ask_if_the_new_room_is_suitable:
  - text: Do you want to change to this new room instead?
  utter_offer_refound_for_hotel:
  - text: The refound for the hotel will be sent back to you at the end of your tour, have a nice trip!
  utter_ask_destination:
  - text: you can tell me which package to book by telling me the destination of the package.
  utter_you_are_welcome:
  - text: you are very welcome!
  utter_if_want_give_feedback:
  - text: would you like to give us some feedback?
  utter_ok:
  - text: Okay ~
  - text: okay :)
  utter_feedback_recorded:
  - text: your feedback is recorded, relevant personnel will deal with it.
  utter_thank:
  - text: Thank you very much!
  utter_help:
  - text: you can ask me for example:\n 1. show me some popular packages \n 2. show me my orders (after login) \n 3. cancel my trip to [some desitination] \n 4. I want to book a trip \n 5. do you have travel packages in [some country]
  utter_dont_understand:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase? Or you can try to talk to our human assistant.
actions:
- action_query_company_info
- action_query_user_orders
- action_login_user
- action_register_user
- action_cancel_user_trip
- action_get_next_available_flight
- action_change_flight
- action_change_guide
- action_offer_coupon
- action_find_new_room
- action_change_new_room
- action_query_country_specific_packages
- action_query_popular_packages
- validate_book_package_form
- action_create_user_order
forms:
  login_form:
    required_slots:
      password:
      - entity: password
        type: from_entity
      username:
      - entity: username
        type: from_entity
  register_form:
    required_slots:
      password:
      - entity: password
        type: from_entity
      username:
      - entity: username
        type: from_entity
  book_package_form:
    required_slots:
      destination:
      - entity: destination
        type: from_entity
e2e_actions: []
