version: "2.0"
stories:

- story: ask company info1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_for_company_info
  - action: action_query_company_info

- story: ask company info2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: ask_for_company_info
  - action: action_query_company_info
  - intent: ask_for_company_contact
  - action: action_query_company_contact
  - intent: thank
  - action: utter_you_are_welcome

- story: guide not unavailable
  steps:
  - intent: greet
  - action: utter_greet
  - intent: guide_unavailable_or_delayed
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: guide_unavailable_or_delayed
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_change_guide
  - intent: affirm
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kalovy Vary
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Madrid
  - slot_was_set:
    - target_destination: Madrid
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_change_guide
  - slot_was_set:
    - target_destination: null

- story: guide not unavailable2
  steps:
  - intent: guide_unavailable_or_delayed
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: guide_unavailable_or_delayed
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_change_guide
  - intent: affirm
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kalovy Vary
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Madrid
  - slot_was_set:
    - target_destination: Madrid
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_change_guide
  - slot_was_set:
    - target_destination: null

- story: room not unavailable
  steps:
  - intent: greet
  - action: utter_greet
  - intent: hotel_unavailable
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: hotel_unavailable
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_if_want_new_room
  - intent: affirm
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kalovy Vary
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Madrid
  - slot_was_set:
    - target_destination: Madrid
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 8
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: affirm
  - action: action_change_new_room
  - slot_was_set:
    - undesired_hotel_ids: []
  - slot_was_set:
    - no_available_room: false
  - slot_was_set:
    - target_destination: null
  - intent: thank
  - action: utter_you_are_welcome

- story: room not unavailable2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: hotel_unavailable
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: hotel_unavailable
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_if_want_new_room
  - intent: affirm
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kalovy Vary
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Kalovy Vary
  - slot_was_set:
    - target_destination: Kalovy Vary
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 3
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 3
      - 2
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: ask_for_another
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 3
      - 2
      - 1
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: affirm
  - action: action_change_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 3
      - 2
  - slot_was_set:
    - no_available_room: false
  - slot_was_set:
    - target_destination: null
  - intent: thank
  - action: utter_you_are_welcome

- story: change filght1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: flight_delays_or_cancellation
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: flight_delays_or_cancellation
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_next_available_or_cancel
  - intent: get_next_available
    entities:
    - last_intent: get_next_available
  - slot_was_set:
    - last_intent: get_next_available
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kalovy Vary
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Madrid
  - slot_was_set:
    - target_destination: Madrid
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: affirm
  - action: action_change_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
  - slot_was_set:
    - no_available_flight: false
  - slot_was_set:
    - target_destination: null

- story: change filght2
  steps:
  - intent: flight_delays_or_cancellation
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: flight_delays_or_cancellation
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_next_available_or_cancel
  - intent: get_next_available
    entities:
    - last_intent: get_next_available
  - slot_was_set:
    - last_intent: get_next_available
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kalovy Vary
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Madrid
  - slot_was_set:
    - target_destination: Madrid
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: ask_for_another
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
      - 4
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: affirm
  - action: action_change_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
  - slot_was_set:
    - no_available_flight: false
  - slot_was_set:
    - target_destination: null
  - intent: thank
  - action: utter_you_are_welcome

- story: cancel trip1
  steps:
  - intent: flight_delays_or_cancellation
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: flight_delays_or_cancellation
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_next_available_or_cancel
  - intent: cancel_trip
    entities:
    - last_intent: cancel_trip
  - slot_was_set:
    - last_intent: cancel_trip
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kalovy Vary
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Kalovy Vary
  - slot_was_set:
    - target_destination: Kalovy Vary
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_cancel_user_trip
  - slot_was_set:
    - target_destination: null

- story: cancel trip2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: flight_delays_or_cancellation
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: flight_delays_or_cancellation
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_next_available_or_cancel
  - intent: cancel_trip
    entities:
    - last_intent: cancel_trip
  - slot_was_set:
    - last_intent: cancel_trip
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Madrid
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Madrid
  - slot_was_set:
    - target_destination: Madrid
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_cancel_user_trip
  - slot_was_set:
    - target_destination: null
  - intent: thank
  - action: utter_you_are_welcome

- story: book popular packages1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: ask_for_popular_packages
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
  - intent: book_package
    entities:
    - destination: Bangkok
  - slot_was_set:
    - destination: Bangkok
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: register
  - action: register_form
  - active_loop: register_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack4
  - slot_was_set:
    - username: Jack4
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_register_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_confirm_book_package
  - intent: affirm
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true
  - intent: thank
  - action: utter_you_are_welcome

- story: book popular packages2
  steps:
  - intent: ask_for_popular_packages
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
  - intent: book_package
    entities:
    - destination: Hokkaido
  - slot_was_set:
    - destination: Hokkaido
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_confirm_book_package
  - intent: affirm
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_if_want_give_feedback
  - intent: deny
  - action: utter_ok

- story: book by country
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: ask_for_package_by_country
    entities:
    - country: China
  - action: action_query_country_specific_packages
  - intent: ask_for_package_by_country
    entities:
    - country: Spain
  - action: action_query_country_specific_packages
  - intent: book_package
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_where
  - intent: ask_for_package_by_country
    entities:
    - country: Spain
  - action: action_query_country_specific_packages
  - intent: inform
    entities:
    - destination: Madrid
  - slot_was_set:
    - destination: Madrid
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true

- story: query user orders
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: ask_user_orders
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: ask_user_orders
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Madrid
      - Bangkok

- story: give feedback1
  steps:
  - intent: give_feedback
  - action: utter_please_go_ahead
  - intent: give_feedback
    entities:
    - feedback: the food on the flight is disgusting
  - slot_was_set:
    - feedback: the food on the flight is disgusting
  - action: utter_feedback_recorded
  - action: utter_thank

- story: give feedback2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: give_feedback
    entities:
    - feedback: the hotel arranged is too far from the attractions
  - slot_was_set:
    - feedback: the hotel arranged is too far from the attractions
  - action: utter_feedback_recorded
  - action: utter_thank
  - intent: more_feedback
  - action: utter_please_go_ahead
  - intent: give_feedback
    entities:
    - feedback: The car rental driver is not friendly
  - slot_was_set:
    - feedback: The car rental driver is not friendly
  - action: utter_feedback_recorded
  - action: utter_thank

- story: book popular packages3
  steps:
  - intent: book_package
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_where
  - intent: ask_for_package_by_country
    entities:
    - country: France
  - action: action_query_country_specific_packages
  - intent: book_package
    entities:
    - destination: Mont Saint-Michel
  - slot_was_set:
    - destination: Mont Saint-Michel
  - action: book_package_form
  - active_loop: book_package_form
  - slot_was_set:
    - destination: Mont Saint-Michel
  - slot_was_set:
    - destination: Mont Saint-Michel
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: utter_confirm_book_package
  - intent: affirm
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true
  - intent: ask_user_orders
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Madrid
      - Mont Saint-Michel
      - Bangkok
  - intent: thank
  - action: utter_you_are_welcome

- story: book popular packages4
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_for_popular_packages
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
  - intent: ask_for_more_packages_suggestions
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
      - 7
      - 2
      - 9
      - 11
  - intent: ask_for_more_packages_suggestions
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
      - 7
      - 2
      - 9
      - 11
      - 14
      - 3
      - 6
      - 8
  - intent: ask_for_more_packages_suggestions
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
      - 7
      - 2
      - 9
      - 11
      - 14
      - 3
      - 6
      - 8
      - 16
      - 4
      - 13
      - 1
  - intent: ask_for_more_packages_suggestions
  - action: action_query_popular_packages
  - slot_was_set:
    - no_more_packages: true
  - intent: ask_for_more_packages_suggestions
  - action: action_query_popular_packages
  - slot_was_set:
    - no_more_packages: true
  - intent: book_package
    entities:
    - destination: Kobe
  - slot_was_set:
    - destination: Kobe
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_confirm_book_package
  - intent: affirm
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true
  - intent: thank
  - action: utter_you_are_welcome
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_if_want_give_feedback
  - intent: affirm
  - action: utter_please_go_ahead
  - intent: give_feedback
    entities:
    - feedback: your response time is way too long
  - slot_was_set:
    - feedback: your response time is way too long
  - action: utter_feedback_recorded
  - action: utter_thank
  - intent: more_feedback
  - action: utter_please_go_ahead
  - intent: give_feedback
    entities:
    - feedback: maybe you can sound more lively rather than stay this dull
  - slot_was_set:
    - feedback: maybe you can sound more lively rather than stay this dull
  - action: utter_feedback_recorded
  - action: utter_thank

- story: user want to cancel trip directly
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: cancel_trip
  - action: utter_cannot_unless_flight_unavailable
  - intent: flight_delays_or_cancellation
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: flight_delays_or_cancellation
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_next_available_or_cancel
  - intent: cancel_trip
    entities:
    - last_intent: cancel_trip
  - slot_was_set:
    - last_intent: cancel_trip
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Madrid
      - Mont Saint-Michel
      - Bangkok
      - Kobe
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Kobe
  - slot_was_set:
    - target_destination: Kobe
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_cancel_user_trip
  - slot_was_set:
    - target_destination: null

- story: book by country2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: ask_for_popular_packages
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
  - intent: ask_for_more_packages_suggestions
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
      - 7
      - 2
      - 9
      - 11
  - intent: ask_for_package_by_country
    entities:
    - country: U.S
  - action: action_query_country_specific_packages
  - intent: ask_for_package_by_country
    entities:
    - country: Italy
  - action: action_query_country_specific_packages
  - intent: inform
    entities:
    - destination: Pompeii
  - slot_was_set:
    - destination: Pompeii
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: inform
  - intent: register
  - action: register_form
  - active_loop: register_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Anna
  - slot_was_set:
    - username: Anna
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_register_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_confirm_book_package
  - intent: affirm
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true

- story: book shorter package
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_for_popular_packages
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
  - intent: ask_for_shorter_duration
    entities:
    - destination: Hokkaido
  - slot_was_set:
    - destination: Hokkaido
  - action: utter_short_can_be_arranged
  - intent: book_package
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: register
  - action: register_form
  - active_loop: register_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack6
  - slot_was_set:
    - username: Jack6
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_register_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_confirm_book_package
  - intent: affirm
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true

- story: bot don't understand
  steps:
  - intent: greet
  - action: utter_greet
  - intent: out_of_scope
  - action: utter_out_of_scope


- story: offer coupon1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: guide_unavailable_or_delayed
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: guide_unavailable_or_delayed
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_change_guide
  - intent: travel_alone
  - action: action_offer_coupon

- story: offer coupon2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: guide_unavailable_or_delayed
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: guide_unavailable_or_delayed
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_change_guide
  - intent: deny
  - action: action_offer_coupon

- story: offer refound1
  steps:
  - intent: hotel_unavailable
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: hotel_unavailable
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_if_want_new_room
  - intent: affirm
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Madrid
      - Mont Saint-Michel
      - Chiangmai
      - Bangkok
      - Lucerne
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Bangkok
  - slot_was_set:
    - target_destination: Bangkok
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 19
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: deny
  - action: utter_offer_refound_for_hotel

- story: offer refound2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: hotel_unavailable
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: hotel_unavailable
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_if_want_new_room
  - intent: deny
  - action: utter_offer_refound_for_hotel

- story: book package1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: help
  - action: utter_help
  - intent: ask_for_popular_packages
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
  - intent: ask_for_more_packages_suggestions
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
      - 7
      - 2
      - 9
      - 11
  - intent: ask_for_package_by_country
    entities:
    - country: Japan
  - action: action_query_country_specific_packages
  - intent: ask_for_shorter_duration
    entities:
    - destination: Kobe
  - slot_was_set:
    - destination: Kobe
  - action: utter_short_can_be_arranged
  - intent: ask_about_guide_hotel_and_car_rental
  - action: utter_detail_about_guide_hotel_and_car_rental
  - intent: understood
  - intent: book_package
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jason
  - slot_was_set:
    - username: Jason
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_confirm_book_package
  - intent: affirm
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true

- story: book package2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_for_popular_packages
  - action: action_query_popular_packages
  - slot_was_set:
    - showed_packages_ids:
      - 12
      - 5
      - 10
      - 15
  - intent: book_package
    entities:
    - destination: Bangkok
  - slot_was_set:
    - destination: Bangkok
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: book_package
  - intent: register
  - action: register_form
  - active_loop: register_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_register_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_confirm_book_package
  - intent: deny
  - action: utter_ok
  - intent: ask_for_package_by_country
    entities:
    - country: China
  - action: action_query_country_specific_packages
  - intent: understood
  - intent: ask_for_package_by_country
    entities:
    - country: Japan
  - action: action_query_country_specific_packages
  - intent: inform
    entities:
    - destination: Kobe
  - slot_was_set:
    - destination: Kobe
  - action: action_create_user_order
  - slot_was_set:
    - destination: null
  - slot_was_set:
    - has_orders: true
  - intent: thank
  - action: utter_you_are_welcome

- story: out of scope questions1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: out_of_scope
  - action: utter_out_of_scope
  - intent: out_of_scope
  - action: utter_out_of_scope
  - intent: out_of_scope
  - action: utter_out_of_scope
  - intent: ask_for_human_assistant
  - action: utter_request_human_assistant

- story: out of scope questions2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: out_of_scope
  - action: utter_out_of_scope
  - intent: bot_challenge
  - action: utter_iamabot
  - intent: ask_for_human_assistant
  - action: utter_request_human_assistant

- story: no more rooms
  steps:
  - intent: greet
  - action: utter_greet
  - intent: hotel_unavailable
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: hotel_unavailable
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_if_want_new_room
  - intent: affirm
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kobe
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Kobe
  - slot_was_set:
    - target_destination: Kobe
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 32
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 32
      - 2
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 32
      - 2
      - 1
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_find_new_room
  - slot_was_set:
    - no_available_room: true
  - action: utter_offer_refound_for_hotel

- story: user do not want hotel anymore
  steps:
  - intent: greet
  - action: utter_greet
  - intent: hotel_unavailable
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: hotel_unavailable
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_ask_if_want_new_room
  - intent: affirm
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kobe
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Kobe
  - slot_was_set:
    - target_destination: Kobe
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 31
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_find_new_room
  - slot_was_set:
    - undesired_hotel_ids:
      - 31
      - 1
  - action: utter_ask_if_the_new_room_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: deny
  - action: utter_offer_refound_for_hotel

- story: no more flights
  steps:
  - intent: flight_delays_or_cancellation
  - action: action_login_or_register
  - slot_was_set:
    - last_intent: flight_delays_or_cancellation
  - intent: login
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - username: Jack2
  - slot_was_set:
    - requested_slot: password
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - password: '123456'
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_user
  - slot_was_set:
    - is_authenticated: true
  - action: utter_offer_next_available_or_cancel
  - intent: get_next_available
    entities:
    - last_intent: get_next_available
  - slot_was_set:
    - last_intent: get_next_available
  - action: action_query_user_orders
  - slot_was_set:
    - has_orders: true
  - slot_was_set:
    - orders:
      - Kobe
  - action: target_destination_form
  - active_loop: target_destination_form
  - slot_was_set:
    - requested_slot: target_destination
  - slot_was_set:
    - destination: Kobe
  - slot_was_set:
    - target_destination: Kobe
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
      - 4
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
      - 4
      - 5
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_get_next_available_flight
  - slot_was_set:
    - undesired_flight_ids:
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
      - 7
  - action: utter_ask_if_the_new_flight_is_suitable
  - intent: deny
  - action: utter_should_find_another_one
  - intent: affirm
  - action: action_get_next_available_flight
  - slot_was_set:
    - no_available_flight: true
  - intent: cancel_trip
  - action: action_cancel_user_trip
  - slot_was_set:
    - target_destination: null
